# L4D2 ç®¡ç†é¢æ¿

ä¸€ä¸ªç°ä»£åŒ–ã€å“åº”å¼çš„ Left 4 Dead 2 æœåŠ¡å™¨å¯è§†åŒ–ç®¡ç†é¢æ¿ã€‚å®ƒé€šè¿‡ä¸€ä¸ªç®€æ´çš„ Web ç•Œé¢ï¼Œç®€åŒ–äº†æœåŠ¡å™¨çš„éƒ¨ç½²ã€é…ç½®ã€å®ä¾‹ç®¡ç†å’Œæ’ä»¶å®‰è£…ç­‰æ“ä½œï¼Œä¸“ä¸ºæœä¸»è®¾è®¡ã€‚

ä»ªè¡¨ç›˜ç•Œé¢æˆªå›¾ï¼š
<img width="2548" height="1411" alt="screenshot-1753721219912" src="https://github.com/user-attachments/assets/16df34ef-a0fb-4e76-a321-bd7abefcc4ce" />

## âœ¨ åŠŸèƒ½ç‰¹æ€§

  - **ä»ªè¡¨ç›˜æ¦‚è§ˆ**: å®æ—¶æŸ¥çœ‹æœåŠ¡å™¨æ ¸å¿ƒçŠ¶æ€ï¼ŒåŒ…æ‹¬æœåŠ¡å™¨æ–‡ä»¶æ˜¯å¦éƒ¨ç½²ã€æ’ä»¶å¹³å°æ˜¯å¦å®‰è£…ã€è¿è¡Œä¸­çš„å®ä¾‹æ•°é‡å’Œå·²å®‰è£…çš„æ’ä»¶æ€»æ•°ã€‚
  - **ä¸€é”®éƒ¨ç½²**: é€šè¿‡ç½‘é¡µæŒ‰é’®ç›´æ¥è°ƒç”¨ SteamCMD éƒ¨ç½²æˆ–æ›´æ–°æ±‚ç”Ÿä¹‹è·¯2æœåŠ¡å™¨ï¼Œå¹¶æä¾›å®æ—¶çš„æ—¥å¿—è¾“å‡ºã€‚
  - **å®ä¾‹ç®¡ç†**: åœ¨ç½‘é¡µä¸Šå®šä¹‰å’Œç®¡ç†å¤šä¸ªæœåŠ¡å™¨å®ä¾‹ï¼Œå¯ä»¥ç‹¬ç«‹å¯åŠ¨æˆ–åœæ­¢æ¯ä¸ªå®ä¾‹ã€‚
  - **æ’ä»¶ç®¡ç†ç³»ç»Ÿ**:
      - è‡ªåŠ¨æ£€æµ‹å¯å®‰è£…çš„æ’ä»¶ã€‚
      - æä¾›æ¸…æ™°çš„â€œå¯å®‰è£…â€å’Œâ€œå·²å®‰è£…â€æ’ä»¶åˆ—è¡¨ã€‚
      - æ”¯æŒæ‰¹é‡å®‰è£…å’Œå¸è½½æ’ä»¶ã€‚
  - **æ’ä»¶å¹³å°å®‰è£…**: è‡ªåŠ¨æ£€æµ‹å®‰è£…åŒ…å¹¶æ‰§è¡Œ SourceMod å’Œ MetaMod çš„å®‰è£…ä¸æ›´æ–°ã€‚
  - **æ“ä½œæ—¥å¿—**: è¯¦ç»†è®°å½•æ‰€æœ‰é¢æ¿æ“ä½œï¼ŒåŒ…æ‹¬ç™»å½•å°è¯•ã€API è°ƒç”¨ã€è„šæœ¬æ‰§è¡Œç­‰ã€‚æ”¯æŒæŒ‰ç±»å‹è¿‡æ»¤ã€å¯¼å‡ºå’Œæ¸…ç©ºæ—¥å¿—ã€‚
  - **å®¹å™¨åŒ–éƒ¨ç½²**: æä¾› `Dockerfile` å’Œ `docker-compose.yml`ï¼Œå®ç°ä¸å®¿ä¸»æœºç¯å¢ƒçš„éš”ç¦»ï¼Œç®€åŒ–éƒ¨ç½²æµç¨‹ã€‚
  - **å®‰å…¨è®¤è¯**: å…·å¤‡ç‹¬ç«‹çš„é¢æ¿ç™»å½•è®¤è¯æœºåˆ¶ã€‚

## ğŸš€ å¿«é€Ÿå¯åŠ¨ (æ¨èä½¿ç”¨ Docker)

ä½¿ç”¨ Docker Compose æ˜¯æœ€æ¨èçš„è¿è¡Œæ–¹å¼ï¼Œå®ƒèƒ½è‡ªåŠ¨å¤„ç†æ‰€æœ‰ä¾èµ–å’Œé…ç½®ã€‚

### å‰ç½®æ¡ä»¶

  - [Docker](https://www.docker.com/) å’Œ [Docker Compose](https://docs.docker.com/compose/)
  - Git

### éƒ¨ç½²æ­¥éª¤

1.  **å…‹éš†é¡¹ç›®ä»“åº“**

    ```bash
    git clone https://github.com/Q1en/L4D2-Manager-Panel.git
    cd L4D2-Manager-Panel
    ```

2.  **åˆ›å»ºæŒ‚è½½ç›®å½•**
    é¢æ¿éœ€è¦å°†æœåŠ¡å™¨æ–‡ä»¶å’Œ SteamCMD ä¿ç•™åœ¨å®¿ä¸»æœºä¸Šï¼Œä»¥é˜²æ­¢å®¹å™¨é‡å»ºæ—¶ä¸¢å¤±ã€‚è¯·åœ¨å®¿ä¸»æœºä¸Šåˆ›å»ºè¿™äº›ç›®å½•ã€‚

    ```bash
    mkdir -p /home/steam/l4d2server
    mkdir -p /home/steam/steamcmd
    ```

    > **æ³¨æ„**: å¦‚æœæ‚¨ä½¿ç”¨å…¶ä»–è·¯å¾„ï¼Œè¯·åŠ¡å¿…åŒæ­¥ä¿®æ”¹ `docker-compose.yml` æ–‡ä»¶ä¸­çš„ `volumes` éƒ¨åˆ†ã€‚

3.  **é…ç½®ç¯å¢ƒå˜é‡**
    æ‰“å¼€ `docker-compose.yml` æ–‡ä»¶ï¼Œæ ¹æ®æ‚¨çš„éœ€æ±‚ä¿®æ”¹ `environment` éƒ¨åˆ†ï¼š

      - `PANEL_USER`: é¢æ¿çš„ç™»å½•ç”¨æˆ·åã€‚
      - `PANEL_PASSWORD`: é¢æ¿çš„ç™»å½•å¯†ç ã€‚
      - `STEAM_USER`: ç”¨äºç™»å½• SteamCMD çš„ç”¨æˆ·åï¼ˆå»ºè®®ä½¿ç”¨å°å·ï¼‰ã€‚
      - `STEAM_PASSWORD`: Steam è´¦æˆ·çš„å¯†ç ã€‚
      - `TZ`: è®¾ç½®å®¹å™¨çš„æ—¶åŒºï¼Œä¾‹å¦‚ `Asia/Shanghai`ã€‚

4.  **æ„å»ºå¹¶å¯åŠ¨å®¹å™¨**

    ```bash
    docker compose up --build -d
    ```

5.  **è®¿é—®é¢æ¿**
    å¯åŠ¨æˆåŠŸåï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://<ä½ çš„æœåŠ¡å™¨IP>:8080` å³å¯è®¿é—®ç®¡ç†é¢æ¿ã€‚

## âš™ï¸ é…ç½®æŒ‡å—

### 1\. æœåŠ¡å™¨å®ä¾‹é…ç½®

ä½ å¯ä»¥åœ¨ `app/L4D2_Manager_API.sh` è„šæœ¬ä¸­å®šä¹‰å¤šä¸ªæœåŠ¡å™¨å®ä¾‹ã€‚
åœ¨ `ServerInstances` å…³è”æ•°ç»„ä¸­æ·»åŠ æˆ–ä¿®æ”¹æ¡ç›®ï¼š

```bash
declare -A ServerInstances=(
    ["ä¸»æœ_æˆ˜å½¹"]="
        Port=27015
        HostName='[CN] My L4D2 Campaign Server'
        MaxPlayers=8
        StartMap='c1m1_hotel'
        ExtraParams='+sv_gametypes \"coop,realism,survival\"'
    "
    # åœ¨è¿™é‡Œæ·»åŠ æ›´å¤šå®ä¾‹...
)
```

### 2\. æ’ä»¶å’Œ SourceMod é…ç½®

  - **SourceMod/MetaMod å®‰è£…åŒ…**: å°† `sourcemod-*.tar.gz` å’Œ `mmsource-*.tar.gz` æ–‡ä»¶æ”¾å…¥ `app/SourceMod_Installers` ç›®å½•ä¸­ã€‚è„šæœ¬ä¼šè‡ªåŠ¨é€‰æ‹©æœ€æ–°ç‰ˆæœ¬è¿›è¡Œå®‰è£…ã€‚
  - **æ’ä»¶**: å°†è§£å‹åçš„æ’ä»¶æ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªåŒ…å« `addons`ã€`cfg` ç­‰å­ç›®å½•çš„æ–‡ä»¶å¤¹ï¼‰æ”¾å…¥ `app/Available_Plugins` ç›®å½•ä¸­ã€‚é¢æ¿ä¼šè‡ªåŠ¨å°†å…¶è¯†åˆ«ä¸ºå¯å®‰è£…æ’ä»¶ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

  - **åç«¯**: Flask
  - **å‰ç«¯**: åŸç”Ÿ HTML/CSS/JavaScript, [SweetAlert2](https://sweetalert2.github.io/), [Feather Icons](https://feathericons.com/)
  - **æ ¸å¿ƒé€»è¾‘**: Bash Script (`screen` ç”¨äºä¼šè¯ç®¡ç†)
  - **å®¹å™¨åŒ–**: Docker / Docker Compose

## ğŸ“ ç›®å½•ç»“æ„

```
.
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ L4D2_Manager_API.sh     # æ ¸å¿ƒåŠŸèƒ½çš„ Shell è„šæœ¬
â”‚   â”œâ”€â”€ app.py                  # Flask åº”ç”¨ä¸»æ–‡ä»¶
â”‚   â”œâ”€â”€ logger.py               # æ—¥å¿—è®°å½•å™¨
â”‚   â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â”‚   â”œâ”€â”€ Available_Plugins/      # å­˜æ”¾å¯ç”¨æ’ä»¶
â”‚   â”œâ”€â”€ Installed_Receipts/     # æ’ä»¶å®‰è£…å›æ‰§ï¼Œè¯·å‹¿ä¿®æ”¹
â”‚   â”œâ”€â”€ SourceMod_Installers/   # å­˜æ”¾æ’ä»¶å¹³å°å®‰è£…åŒ…
â”‚   â”œâ”€â”€ logs/                   # å­˜æ”¾æ—¥å¿—
â”‚   â”œâ”€â”€ static/
â”‚   â”‚   â””â”€â”€ style.css           # å…¨å±€æ ·å¼è¡¨
â”‚   â””â”€â”€ templates/
â”‚       â”œâ”€â”€ dashboard.html      # ä»ªè¡¨ç›˜é¡µé¢
â”‚       â”œâ”€â”€ login.html          # ç™»å½•é¡µé¢
â”‚       â”œâ”€â”€ logs.html           # æ—¥å¿—é¡µé¢
â”‚       â””â”€â”€ plugins.html        # æ’ä»¶ç®¡ç†é¡µé¢
â”œâ”€â”€ docker-compose.yml          # Docker Compose é…ç½®æ–‡ä»¶
â””â”€â”€ Dockerfile                  # Docker é•œåƒå®šä¹‰æ–‡ä»¶
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Pull Requests æˆ– Issuesã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [AGPLV3](https://www.gnu.org/licenses/agpl-3.0.html) è®¸å¯è¯ã€‚
